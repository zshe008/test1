def username = "s_Jenkins"
timestamps{
    echo "Hello Mr. ${username}"
    echo "Running ${env.BUILD_ID} on ${env.JENKINS_URL}"
    echo "Running ${env.BUILD_NUMBER} on ${env.JOB_NAME}"
    
    properties([
        [$class: 'BuildDiscarderProperty', 
            strategy: [$class: 'LogRotator', artifactDaysToKeepStr: '90', 
            artifactNumToKeepStr: '', daysToKeepStr: '90', numToKeepStr: '']
        ],
        [$class: 'GithubProjectProperty',
            displayName: '',
            projectUrlStr: 'https://github.com/zshe008/test1.git',
        ],
        disableConcurrentBuilds(),
        parameters([
            string(name: 'BuildNumber', value: ''),
            string(name: 'platform', value: 'WIN64'),
            string(name: 'BranchName', value: 'develop'),
            ])
        ])
    //library changelog: false, identifier: 'FusionSharedLibraries@master', retriever: modernSCM(github(apiUri: 'https://git.autodesk.com/api/v3', credentialsId: '96174db4-f458-46b7-9860-5e2f36fb6d43', id: 'e69c7530-3b64-42f7-b5ee-75ff6e28b134', repoOwner: 'Fusion', repository: 'PSL'))
    echo "${params.platform}   World!  ${params.BuildNumber}   hello"
    currentBuild.displayName = params.BuildNumber + '_' + params.platform + '_' + params.BranchName
    def dn = currentBuild.rawBuild.getCauses()
    def cb_num = currentBuild.number
    echo "aaa  ${dn}"
    echo "cb_num :  ${cb_num}"
    
}
